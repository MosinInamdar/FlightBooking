{% extends "layout.html" %} {% block head %}
<link href="/static/addflights.css" rel="stylesheet" />
<link href="/static/home.css" rel="stylesheet" />
{% endblock %} {% block title %} Add Flight {% endblock %} {% block main %}
<nav class="nav">
  <div class="nav__logo">TravelWings</div>
  <ul class="nav__links">
    <li class="link"><a href="/adminhome">Home</a></li>
    <li class="link"><a href="/flightdetails">Flight Details</a></li>
    <li class="link"><a href="/flightbookings">Flight Bookings</a></li>
  </ul>
  <button class="logout-button" id="logout">Logout</button>
</nav>
<div class="container">
  <h2>Add Flight</h2>
  <form action="/addflights" method="POST">
    <div class="form-group">
      <label for="flight_number">Flight Number:</label>
      <input type="text" id="flight_number" name="flight_number" required />
    </div>
    <div class="form-group">
      <label for="departure_location">Departure Location:</label>
      <input
        type="text"
        id="departure_location"
        name="departure_location"
        required
      />
    </div>
    <div class="form-group">
      <label for="arrival_location">Arrival Location:</label>
      <input
        type="text"
        id="arrival_location"
        name="arrival_location"
        required
      />
    </div>
    <div class="form-group">
      <label for="departure_time">Departure Time:</label>
      <input type="time" id="departure_time" name="departure_time" required />
    </div>
    <div class="form-group">
      <label for="arrival_time">Arrival Time:</label>
      <input type="time" id="arrival_time" name="arrival_time" required />
    </div>
    <div class="form-group">
      <label for="capacity">Capacity:</label>
      <input type="number" id="capacity" name="capacity" required />
    </div>
    <div class="form-group">
      <label for="available_seats">Available Seats:</label>
      <input
        type="number"
        id="available_seats"
        name="available_seats"
        required
      />
    </div>
    <div class="form-group">
      <label for="flight_date">Flight Date:</label>
      <input type="date" id="flight_date" name="flight_date" required />
    </div>
    <div class="form-group">
      <label for="flight_name">Flight Name:</label>
      <input type="text" id="flight_name" name="flight_name" required />
    </div>
    <div class="form-group">
      <input type="submit" value="Add Flight" />
    </div>
  </form>
</div>
<script>
  document.addEventListener("DOMContentLoaded", function () {
    // Add event listener to the logout button
    var logoutButton = document.querySelector(".logout-button");
    logoutButton.addEventListener("click", function () {
      logout();
    });

    // Function to send a request to log out
    function logout() {
      fetch("/logout")
        .then((response) => {
          if (response.ok) {
            // Redirect to the home page after successful logout
            window.location.href = "/";
          } else {
            console.error("Failed to log out");
          }
        })
        .catch((error) => console.error("Error:", error));
    }
  });
</script>
{% endblock %}
